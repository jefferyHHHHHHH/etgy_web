# 实施任务清单

## 阶段 1：基础设施（P0）

### 1.1 设计系统变量和样式

- [ ] 1.1.1 创建 `src/styles/` 目录结构
- [ ] 1.1.2 创建 `variables.scss`：定义间距、字号等 SCSS 变量
- [ ] 1.1.3 创建 `theme.css`：定义颜色、阴影等 CSS 变量（支持亮色/暗色主题）
- [ ] 1.1.4 创建 `mixins.scss`：封装常用 SCSS mixins（响应式断点、文本省略等）
- [ ] 1.1.5 创建 `global.scss`：全局样式（重置、盒模型、滚动等）
- [ ] 1.1.6 在 `main.ts` 中引入样式文件

### 1.2 Element Plus 主题定制

- [ ] 1.2.1 创建 `src/styles/element-override.scss`
- [ ] 1.2.2 覆盖 Element Plus 主色、圆角等变量
- [ ] 1.2.3 配置 Element Plus 暗色模式变量

### 1.3 布局组件开发

- [ ] 1.3.1 创建 `src/components/layout/AppLayout.vue`（根布局）
- [ ] 1.3.2 创建 `src/components/layout/Sidebar.vue`（侧边栏）
- [ ] 1.3.3 创建 `src/components/layout/Topbar.vue`（顶部栏）
- [ ] 1.3.4 创建 `src/components/layout/Breadcrumb.vue`（面包屑）
- [ ] 1.3.5 创建 `src/components/layout/LogoPlaceholder.vue`（Logo 占位）
- [ ] 1.3.6 实现侧边栏折叠逻辑和状态持久化（localStorage）

### 1.4 通用组件开发

- [ ] 1.4.1 创建 `src/components/common/PageContainer.vue`（页面容器）
- [ ] 1.4.2 创建 `src/components/common/StatusTag.vue`（状态标签）
- [ ] 1.4.3 创建 `src/components/common/SearchForm.vue`（搜索表单）
- [ ] 1.4.4 创建 `src/components/common/TableActions.vue`（表格操作列）
- [ ] 1.4.5 创建 `src/components/common/EmptyState.vue`（空状态）

### 1.5 主题切换功能

- [ ] 1.5.1 创建 `src/stores/modules/theme.ts`（主题状态管理）
- [ ] 1.5.2 实现主题切换逻辑（亮色/暗色）
- [ ] 1.5.3 实现主题偏好持久化（localStorage）
- [ ] 1.5.4 在 `Topbar.vue` 中添加主题切换按钮
- [ ] 1.5.5 配置主题切换过渡动画

---

## 阶段 2：布局改造和核心页面优化（P1）

### 2.1 App.vue 布局改造

- [ ] 2.1.1 重构 `App.vue`，使用 `AppLayout` 组件
- [ ] 2.1.2 移除旧的顶部导航代码
- [ ] 2.1.3 配置路由守卫，登录页不使用 AppLayout
- [ ] 2.1.4 测试路由跳转和权限校验

### 2.2 登录页优化

- [ ] 2.2.1 重构 `Login.vue`，添加 Logo 占位组件
- [ ] 2.2.2 添加登录表单动画（淡入 + 向上位移）
- [ ] 2.2.3 优化表单验证和错误提示
- [ ] 2.2.4 添加暗色模式适配
- [ ] 2.2.5 添加响应式布局（移动端适配）

### 2.3 仪表盘优化

- [ ] 2.3.1 安装 ECharts 依赖（`npm install echarts vue-echarts`）
- [ ] 2.3.2 创建图表组件 `src/components/charts/`
- [ ] 2.3.3 重构 `Dashboard.vue`，使用 `PageContainer`
- [ ] 2.3.4 添加图表可视化（折线图：上传趋势，饼图：视频状态分布）
- [ ] 2.3.5 优化计数卡片样式（图标、颜色、动画）
- [ ] 2.3.6 添加骨架屏加载状态
- [ ] 2.3.7 配置图表响应式和主题联动

### 2.4 视频列表优化

- [ ] 2.4.1 重构 `views/videos/List.vue`，使用 `PageContainer`
- [ ] 2.4.2 使用 `SearchForm` 组件替换现有搜索表单
- [ ] 2.4.3 使用 `StatusTag` 组件显示视频状态
- [ ] 2.4.4 使用 `TableActions` 组件优化操作列
- [ ] 2.4.5 添加视频缩略图预览（封面图）
- [ ] 2.4.6 添加批量操作功能（批量发布、批量下架）
- [ ] 2.4.7 添加空状态（`EmptyState`）
- [ ] 2.4.8 优化加载状态（骨架屏）

### 2.5 视频创建页优化

- [ ] 2.5.1 重构 `views/videos/Create.vue`，使用 `PageContainer`
- [ ] 2.5.2 优化表单布局和样式
- [ ] 2.5.3 添加视频封面上传预览
- [ ] 2.5.4 添加表单保存快捷键（Ctrl+S）

---

## 阶段 3：其他页面改造和高级功能（P2）

### 3.1 审核工作台优化

- [ ] 3.1.1 重构 `views/videos/Reviews.vue`
- [ ] 3.1.2 实现左右分栏布局（左侧列表，右侧详情）
- [ ] 3.1.3 添加视频预览和详情展示
- [ ] 3.1.4 优化审核操作（通过/驳回 + 意见输入）
- [ ] 3.1.5 添加批量审核功能

### 3.2 直播申请页面优化

- [ ] 3.2.1 重构 `views/live/Applications.vue`，使用 `PageContainer`
- [ ] 3.2.2 使用 `SearchForm`、`StatusTag`、`TableActions` 组件
- [ ] 3.2.3 添加空状态和加载状态

### 3.3 志愿者管理优化

- [ ] 3.3.1 重构 `views/volunteers/List.vue`，使用 `PageContainer`
- [ ] 3.3.2 使用通用组件优化列表和搜索
- [ ] 3.3.3 添加志愿者头像占位图

### 3.4 学院管理优化

- [ ] 3.4.1 重构 `views/settings/Colleges.vue`，使用 `PageContainer`
- [ ] 3.4.2 使用通用组件优化列表和表单

### 3.5 审计日志优化

- [ ] 3.5.1 重构 `views/audit/List.vue`，使用 `PageContainer`
- [ ] 3.5.2 添加日期范围筛选
- [ ] 3.5.3 优化日志展示（时间格式、操作类型标签）

### 3.6 虚拟滚动实现

- [ ] 3.6.1 评估 Element Plus el-table-v2 可行性
- [ ] 3.6.2 在视频列表页实现虚拟滚动（作为可选功能）
- [ ] 3.6.3 测试虚拟滚动性能（1000+ 条数据）

### 3.7 快捷键系统

- [ ] 3.7.1 创建 `src/composables/useHotkeys.ts`
- [ ] 3.7.2 实现全局搜索快捷键（Ctrl+K / Cmd+K）
- [ ] 3.7.3 实现关闭弹窗快捷键（Esc）
- [ ] 3.7.4 实现保存表单快捷键（Ctrl+S / Cmd+S）
- [ ] 3.7.5 在帮助菜单中添加快捷键说明

---

## 阶段 4：体验优化和收尾（P3）

### 4.1 响应式适配

- [ ] 4.1.1 测试并优化移动端布局（< 768px）
- [ ] 4.1.2 测试并优化平板端布局（768px - 1024px）
- [ ] 4.1.3 优化移动端侧边栏抽屉交互
- [ ] 4.1.4 优化移动端表格横向滚动或卡片式布局

### 4.2 动画和过渡优化

- [ ] 4.2.1 优化页面切换动画（淡入 + 向上位移）
- [ ] 4.2.2 添加列表项进入动画（错峰淡入）
- [ ] 4.2.3 优化侧边栏折叠动画
- [ ] 4.2.4 测试动画性能，在低性能设备上禁用复杂动画

### 4.3 性能优化

- [ ] 4.3.1 优化首屏加载（代码分割、懒加载）
- [ ] 4.3.2 优化图片加载（懒加载、WebP 格式）
- [ ] 4.3.3 优化 ECharts 按需引入（仅引入需要的图表类型）
- [ ] 4.3.4 测试首屏加载时间（目标 < 2.5s）

### 4.4 组件文档

- [ ] 4.4.1 为通用组件添加 JSDoc 类型注释
- [ ] 4.4.2 创建组件使用示例（可选，在 `src/components/README.md`）

### 4.5 全面测试

- [ ] 4.5.1 功能测试：所有页面功能正常
- [ ] 4.5.2 权限测试：不同角色菜单和按钮正确显示/隐藏
- [ ] 4.5.3 主题测试：亮色/暗色模式切换正常，所有页面适配
- [ ] 4.5.4 响应式测试：不同屏幕尺寸下布局正常
- [ ] 4.5.5 性能测试：首屏加载 < 2.5s，大列表渲染流畅
- [ ] 4.5.6 代码质量：通过 ESLint、Stylelint 检查，无控制台错误

### 4.6 文档更新

- [ ] 4.6.1 更新 README.md：补充设计系统和组件使用说明
- [ ] 4.6.2 更新 .env.example：添加主题相关环境变量（如有）

---

## 验证与交付

### 验收标准检查

- [ ] 侧边栏 + 顶部栏布局正常显示
- [ ] 侧边栏可折叠，状态持久化
- [ ] 面包屑导航正确显示当前路径
- [ ] 暗色模式切换正常，所有页面适配
- [ ] 5 个通用组件封装完成并正常使用
- [ ] 仪表盘图表正常渲染，支持响应式
- [ ] 视频列表支持缩略图预览和批量操作
- [ ] 审核工作台左右分栏布局正常
- [ ] 快捷键（Ctrl+K、Esc、Ctrl+S）正常工作
- [ ] 响应式布局在不同屏幕尺寸下正常
- [ ] 首屏加载时间 < 2.5s（P95）
- [ ] 1000 条数据的列表渲染流畅（虚拟滚动）
- [ ] 暗色模式切换无闪烁
- [ ] 页面切换动画流畅（60fps）
- [ ] 通过 ESLint 和 Stylelint 检查
- [ ] 无控制台 error/warn

### 交付物

- [ ] 更新后的代码仓库（所有变更已合并到 main 分支）
- [ ] 设计系统文档（颜色、字体、间距等规范）
- [ ] 组件使用文档（通用组件的 Props 和使用示例）
- [ ] 测试报告（功能、性能、兼容性测试结果）
