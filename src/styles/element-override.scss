// ============================================
// Element Plus 主题定制
// ============================================

@use './variables' as *;

// Element Plus CSS 变量覆盖
// 参考：https://element-plus.org/zh-CN/guide/theming.html

// 主色系
:root {
  // 主色（与设计系统保持一致）
  --el-color-primary: #1a56db;
  --el-color-primary-light-3: #3b78e7;
  --el-color-primary-light-5: #5d93eb;
  --el-color-primary-light-7: #90b5f1;
  --el-color-primary-light-8: #b3cdf6;
  --el-color-primary-light-9: #d6e5fa;
  --el-color-primary-dark-2: #1543b1;

  // 功能色
  --el-color-success: #16a34a;
  --el-color-success-light-3: #22c55e;
  --el-color-success-light-5: #4ade80;
  --el-color-success-light-7: #86efac;
  --el-color-success-light-8: #bbf7d0;
  --el-color-success-light-9: #dcfce7;
  --el-color-success-dark-2: #15803d;
  --el-color-warning: #ea580c;
  --el-color-warning-light-3: #f97316;
  --el-color-warning-light-5: #fb923c;
  --el-color-warning-light-7: #fdba74;
  --el-color-warning-light-8: #fed7aa;
  --el-color-warning-light-9: #ffedd5;
  --el-color-warning-dark-2: #c2410c;
  --el-color-danger: #dc2626;
  --el-color-danger-light-3: #ef4444;
  --el-color-danger-light-5: #f87171;
  --el-color-danger-light-7: #fca5a5;
  --el-color-danger-light-8: #fecaca;
  --el-color-danger-light-9: #fee2e2;
  --el-color-danger-dark-2: #b91c1c;
  --el-color-info: #0891b2;
  --el-color-info-light-3: #06b6d4;
  --el-color-info-light-5: #22d3ee;
  --el-color-info-light-7: #67e8f9;
  --el-color-info-light-8: #a5f3fc;
  --el-color-info-light-9: #cffafe;
  --el-color-info-dark-2: #0e7490;

  // 中性色（与设计系统一致）
  --el-text-color-primary: var(--color-text-primary);
  --el-text-color-regular: var(--color-text-secondary);
  --el-text-color-secondary: var(--color-text-tertiary);
  --el-text-color-placeholder: var(--color-text-disabled);
  --el-text-color-disabled: var(--color-text-disabled);
  --el-border-color: var(--color-border);
  --el-border-color-light: var(--color-border-light);
  --el-border-color-lighter: var(--color-border-light);
  --el-border-color-extra-light: var(--color-border-light);
  --el-border-color-dark: var(--color-border-dark);
  --el-border-color-darker: var(--color-border-dark);
  --el-fill-color-blank: var(--color-bg-container);
  --el-fill-color: var(--color-bg-hover);
  --el-fill-color-light: var(--color-bg-hover);
  --el-fill-color-lighter: var(--color-bg-hover);
  --el-fill-color-extra-light: var(--color-bg-hover);
  --el-fill-color-dark: var(--color-bg-active);
  --el-fill-color-darker: var(--color-bg-active);
  --el-bg-color: var(--color-bg-container);
  --el-bg-color-page: var(--color-bg-page);
  --el-bg-color-overlay: var(--color-bg-elevated);

  // 圆角系统（与设计系统一致）
  --el-border-radius-base: 6px;
  --el-border-radius-small: 4px;
  --el-border-radius-round: 20px;
  --el-border-radius-circle: 100%;

  // 字体
  --el-font-size-extra-small: 12px;
  --el-font-size-small: 14px;
  --el-font-size-base: 16px;
  --el-font-size-medium: 18px;
  --el-font-size-large: 20px;
  --el-font-size-extra-large: 24px;

  // 阴影（与设计系统一致）
  --el-box-shadow-light: var(--shadow-sm);
  --el-box-shadow: var(--shadow-base);
  --el-box-shadow-dark: var(--shadow-md);

  // 过渡动画
  --el-transition-duration: 0.25s;
  --el-transition-duration-fast: 0.15s;

  // 组件特定变量
  --el-menu-item-height: 48px;
  --el-menu-sub-item-height: 48px;
  --el-table-header-bg-color: var(--color-bg-hover);
  --el-table-row-hover-bg-color: var(--color-bg-hover);
}

// 暗色主题适配
[data-theme='dark'] {
  // Element Plus 暗色模式类名
  .el-select__popper,
  .el-picker__popper,
  .el-dropdown__popper,
  .el-popover,
  .el-tooltip__popper,
  .el-message-box,
  .el-dialog,
  .el-drawer {
    color-scheme: dark;
  }

  // 暗色主题下的微调
  --el-color-primary: #3b82f6; // 暗色下主色稍微调亮
  --el-color-primary-light-3: #60a5fa;
  --el-color-primary-light-5: #93c5fd;
  --el-color-primary-light-7: #bfdbfe;
  --el-color-primary-light-8: #dbeafe;
  --el-color-primary-light-9: #eff6ff;
  --el-color-primary-dark-2: #2563eb;

  // 暗色模式下表格头部背景
  --el-table-header-bg-color: var(--color-gray-800);
  --el-table-row-hover-bg-color: var(--color-gray-700);

  // 暗色模式下的输入框边框
  --el-border-color: var(--color-gray-700);
  --el-border-color-light: var(--color-gray-800);

  // 暗色模式下的弹出层背景
  --el-bg-color-overlay: var(--color-gray-800);
}

// Element Plus 组件样式微调
// 菜单项高度调整
.el-menu-item,
.el-sub-menu__title {
  height: 48px;
  line-height: 48px;
}

// 表格斑马纹
.el-table--striped .el-table__body tr.el-table__row--striped td.el-table__cell {
  background-color: var(--color-bg-hover);
}

// 分页组件样式
.el-pagination {
  .el-pagination__total,
  .el-pagination__jump {
    color: var(--color-text-secondary);
  }
}

// 对话框圆角
.el-dialog {
  border-radius: $radius-lg;
}

// 抽屉圆角（仅非全屏时）
.el-drawer:not(.el-drawer__full) {
  border-radius: $radius-lg;
}

// 卡片圆角
.el-card {
  border-radius: $radius-lg;

  .el-card__header {
    border-bottom: 1px solid var(--color-border);
  }
}

// 输入框焦点样式
.el-input__wrapper.is-focus,
.el-textarea__inner:focus {
  box-shadow: 0 0 0 1px var(--el-color-primary) inset;
}

// 按钮禁用状态
.el-button.is-disabled {
  cursor: not-allowed;
  opacity: 0.6;
}

// 消息提示圆角
.el-message {
  border-radius: $radius-md;
  box-shadow: var(--shadow-lg);
}

// 通知圆角
.el-notification {
  border-radius: $radius-lg;
  box-shadow: var(--shadow-xl);
}

// 加载中遮罩
.el-loading-mask {
  background-color: rgb(0 0 0 / 30%);
  backdrop-filter: blur(2px);
}

[data-theme='dark'] .el-loading-mask {
  background-color: rgb(0 0 0 / 50%);
}

// 骨架屏动画优化
.el-skeleton__item {
  background: linear-gradient(
    90deg,
    var(--color-bg-hover) 25%,
    var(--color-bg-active) 37%,
    var(--color-bg-hover) 63%
  );
  background-size: 400% 100%;
  animation: el-skeleton-loading 1.4s ease infinite;
}

@keyframes el-skeleton-loading {
  0% {
    background-position: 100% 50%;
  }

  100% {
    background-position: 0 50%;
  }
}
