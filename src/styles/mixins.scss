// ============================================
// SCSS Mixins
// ============================================

@use './variables' as *;

// 响应式断点 Mixins
@mixin respond-above($breakpoint) {
  @if $breakpoint == 'sm' {
    @media (min-width: #{$breakpoint-sm}) {
      @content;
    }
  } @else if $breakpoint == 'md' {
    @media (min-width: #{$breakpoint-md}) {
      @content;
    }
  } @else if $breakpoint == 'lg' {
    @media (min-width: #{$breakpoint-lg}) {
      @content;
    }
  } @else if $breakpoint == 'xl' {
    @media (min-width: #{$breakpoint-xl}) {
      @content;
    }
  } @else if $breakpoint == '2xl' {
    @media (min-width: #{$breakpoint-2xl}) {
      @content;
    }
  }
}

@mixin respond-below($breakpoint) {
  @if $breakpoint == 'sm' {
    @media (max-width: #{$breakpoint-sm - 1}) {
      @content;
    }
  } @else if $breakpoint == 'md' {
    @media (max-width: #{$breakpoint-md - 1}) {
      @content;
    }
  } @else if $breakpoint == 'lg' {
    @media (max-width: #{$breakpoint-lg - 1}) {
      @content;
    }
  } @else if $breakpoint == 'xl' {
    @media (max-width: #{$breakpoint-xl - 1}) {
      @content;
    }
  } @else if $breakpoint == '2xl' {
    @media (max-width: #{$breakpoint-2xl - 1}) {
      @content;
    }
  }
}

@mixin respond-between($min-breakpoint, $max-breakpoint) {
  $min: $breakpoint-xs;
  $max: 9999px;

  @if $min-breakpoint == 'sm' {
    $min: $breakpoint-sm;
  } @else if $min-breakpoint == 'md' {
    $min: $breakpoint-md;
  } @else if $min-breakpoint == 'lg' {
    $min: $breakpoint-lg;
  } @else if $min-breakpoint == 'xl' {
    $min: $breakpoint-xl;
  } @else if $min-breakpoint == '2xl' {
    $min: $breakpoint-2xl;
  }

  @if $max-breakpoint == 'sm' {
    $max: $breakpoint-sm - 1;
  } @else if $max-breakpoint == 'md' {
    $max: $breakpoint-md - 1;
  } @else if $max-breakpoint == 'lg' {
    $max: $breakpoint-lg - 1;
  } @else if $max-breakpoint == 'xl' {
    $max: $breakpoint-xl - 1;
  } @else if $max-breakpoint == '2xl' {
    $max: $breakpoint-2xl - 1;
  }

  @media (min-width: #{$min}) and (max-width: #{$max}) {
    @content;
  }
}

// 文本省略
@mixin text-ellipsis($lines: 1) {
  @if $lines == 1 {
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
  } @else {
    display: -webkit-box;
    -webkit-box-orient: vertical;
    -webkit-line-clamp: $lines;
    overflow: hidden;
    text-overflow: ellipsis;
  }
}

// Flexbox 快捷方式
@mixin flex-center {
  display: flex;
  align-items: center;
  justify-content: center;
}

@mixin flex-between {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

@mixin flex-start {
  display: flex;
  align-items: center;
  justify-content: flex-start;
}

@mixin flex-end {
  display: flex;
  align-items: center;
  justify-content: flex-end;
}

// 滚动条样式
@mixin scrollbar($width: 8px, $track-bg: transparent, $thumb-bg: #d1d5db) {
  &::-webkit-scrollbar {
    width: $width;
    height: $width;
  }

  &::-webkit-scrollbar-track {
    background: $track-bg;
  }

  &::-webkit-scrollbar-thumb {
    background: $thumb-bg;
    border-radius: $radius-base;

    &:hover {
      opacity: 0.8;
    }
  }

  // Firefox
  scrollbar-width: thin;
  scrollbar-color: $thumb-bg $track-bg;
}

// 清除浮动
@mixin clearfix {
  &::after {
    content: '';
    display: table;
    clear: both;
  }
}

// 禁用文本选择
@mixin no-select {
  user-select: none;
}

// 隐藏元素（保留布局空间）
@mixin visually-hidden {
  position: absolute;
  width: 1px;
  height: 1px;
  margin: -1px;
  padding: 0;
  overflow: hidden;
  clip-path: inset(50%);
  white-space: nowrap;
  border-width: 0;
}

// 硬件加速
@mixin hardware-accelerate {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000px;
}

// 渐变背景
@mixin gradient-primary {
  background: linear-gradient(135deg, var(--color-primary) 0%, var(--color-primary-light) 100%);
}

// 卡片样式
@mixin card {
  background: var(--color-bg-container);
  border: 1px solid var(--color-border);
  border-radius: $radius-lg;
  padding: $spacing-4;
  box-shadow: var(--shadow-sm);
}

// 悬停卡片效果
@mixin card-hover {
  transition: all $transition-base $ease-out;

  &:hover {
    box-shadow: var(--shadow-md);
    transform: translateY(-2px);
  }
}
